{"version":3,"file":"index.js","sources":["../src/js/logger.js","../src/js/store.js"],"sourcesContent":["export default (state, newState) => {\n    console.group(\"Logger\");\n    console.log(\"State:\", JSON.stringify(state, null, 2));\n    console.log(\"New State\", JSON.stringify(newState, null, 2));\n    console.groupEnd();\n};\n","\"use strict\";\n\nexport default (initialState = {}, ...listeners) => {\n    const handler = {\n        set: (target, name, value) => {\n            const oldTarget = Object.assign({}, target);\n            \tReflect.set(target, name, value);\n                listeners.forEach(listener => {\n                    if( typeof listener === \"function\") {\n                        listener(oldTarget, target);\n                    } else {\n                        throw new Error(\"Listener must be a function!\");\n                    }\n                });\n            return {\n                name,\n                value\n            };\n        }\n    };\n    const store = new Proxy({}, handler);\n\n    const getStore = () => {\n        return Object.assign({}, store);\n    };\n\n    const setStore = (state) => {\n        Object.keys(state).forEach(key => {\n            Reflect.set(store, key, state[key]);\n        });\n\treturn Object.assign({}, store, state);\n    };\n    \n    setStore(initialState);\n    \n    return {\n        getStore,\n        setStore\n    };\n};\n"],"names":["state","newState","console","group","log","JSON","stringify","groupEnd","initialState","listeners","store","Proxy","set","target","name","value","oldTarget","Object","assign","Reflect","forEach","listener","Error","setStore","keys","key","getStore"],"mappings":"oEAAA,oBAAgBA,EAAOC,GACnBC,QAAQC,MAAM,UACdD,QAAQE,IAAI,SAAUC,KAAKC,UAAUN,EAAO,KAAM,IAClDE,QAAQE,IAAI,YAAaC,KAAKC,UAAUL,EAAU,KAAM,IACxDC,QAAQK,qCCFIC,yDAAe,sBAAOC,mCAAAA,wBAkB5BC,EAAQ,IAAIC,MAAM,GAjBR,CACZC,IAAK,SAACC,EAAQC,EAAMC,OACVC,EAAYC,OAAOC,OAAO,GAAIL,UACnCM,QAAQP,IAAIC,EAAQC,EAAMC,GACvBN,EAAUW,QAAQ,SAAAC,MACU,mBAAbA,QAGD,IAAIC,MAAM,gCAFhBD,EAASL,EAAWH,KAKzB,CACHC,KAAAA,EACAC,MAAAA,MAUNQ,EAAW,SAACvB,UACdiB,OAAOO,KAAKxB,GAAOoB,QAAQ,SAAAK,GACvBN,QAAQP,IAAIF,EAAOe,EAAKzB,EAAMyB,MAElCR,OAAOC,OAAO,GAAIR,EAAOV,WAG7BuB,EAASf,GAEF,CACHkB,SAda,kBACNT,OAAOC,OAAO,GAAIR,IAczBa,SAAAA"}